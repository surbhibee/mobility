apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth()
#%>% facet_wrap(vars(region))
#apple_city$region <- as.factor(apple_city$region)
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.4)
#%>% facet_wrap(vars(region))
#apple_city$region <- as.factor(apple_city$region)
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2)
#%>% facet_wrap(vars(region))
#apple_city$region <- as.factor(apple_city$region)
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2)
apple_city %>% filter(transportation_type == "walking") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2)
#%>% facet_wrap(vars(region))
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + facet_wrap(vars(region))
apple_city  %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + facet_wrap(vars(region))
apple_city  %>% ggplot( aes(x = date, y = value, color = transportation_type )) + geom_smooth(alpha = 0.2) + facet_wrap(vars(region))
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light()
apple_city %>% filter(transportation_type == "walking") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2)
apple_city %>% filter(transportation_type == "walking") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light()
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light()
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() + ggtitle("Changes in driving in cities")
ggsave("apple_driving.png")
apple_city %>% filter(transportation_type == "walking") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() ggtitle("Changes in driving in cities")
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() + ggtitle("Changes in driving in cities")
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() + ggtitle("Changes in driving in cities")
ggsave("apple_driving.png")
apple_city %>% filter(transportation_type == "walking") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() + ggtitle("Changes in driving in cities")
ggsave("apple_walking.png")
apple_city %>% filter(transportation_type == "walking") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() + ggtitle("Changes in walking in cities")
ggsave("apple_walking.png")
apple_city %>% filter(transportation_type == "driving") %>% write.csv(apple_driving.csv)
apple_city %>% filter(transportation_type == "driving") %>% write.csv("apple_driving.csv")
apple_city %>% filter(transportation_type == "walking") %>% write.csv("apple_walking.csv")
View(google_state)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
apple <- read_csv("applemobilitytrends-2020-06-27.csv") %>% filter(region == "India" | country == "India")
google <- read_csv("Google_Global_Mobility_Report.csv") %>% filter(country_region == "India")
apple <- apple %>% pivot_longer(cols = c(7:length(apple)), names_to = "date")
apple$date <- as.Date(apple$date)
apple_national <- apple %>% filter(region == "India")
apple_city <- apple %>% filter(region != "India")
google_national <- google %>% filter(is.na(sub_region_1))
google_state <- google %>% filter(!is.na(sub_region_1))
View(apple_city)
cases6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv")
View(cases6)
cases6 <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv	")
cases6 <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
View(cases6)
View(cases6)
national_cases$Date <- as.Date(national_cases$Date)
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- as.Date(national_cases$Date)
national_cases$Date <- as.Date(national_cases$Date, format = "%d %M")
View(national_cases)
national_cases$Date <- as.Date(national_cases$Date, format = "%d %m")
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- as.Date(national_cases$Date, format = "%d %m")
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
View(apple_national)
national_cases$date <- paste(national_cases$Date, national_cases$dum)
national_cases$dum <- " 2020"
national_cases$date <- paste(national_cases$Date, national_cases$dum)
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$dum <- "2020"
national_cases$date <- paste(national_cases$Date, national_cases$dum)
national_cases$date <- as.Date(national_cases$date)
?as.Date
national_cases$date <- as.Date(national_cases$date, "%d %B %Y")
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$D <- "2020"
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
test <- read_csv("https://api.covid19india.org/csv/latest/statewise_tested_numbers_data.csv")
View(test)
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
View(state_cases)
pivot_longer(state_cases, cols = c("Date", "Status") , names_to = "State")
?pivot_longer
pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
View(national_cases)
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State))
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "vallue")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
View(apple_city)
apple_city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() + ggtitle("Changes in driving in cities")
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv")
View(dist1)
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv")
View(dist6)
View(apple_national)
View(apple_national)
View(apple_city)
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
View(dist6)
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist2 <- read_csv("https://api.covid19india.org/csv/latest/raw_data2.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist3 <- read_csv("https://api.covid19india.org/csv/latest/raw_data3.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist4 <- read_csv("https://api.covid19india.org/csv/latest/raw_data4.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist5 <- read_csv("https://api.covid19india.org/csv/latest/raw_data5.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
district_cases <- rbind(dist1, dist2, dist3, dist4, dist5, dist6)
raw1 <- rbind(dist1, dist2)
raw2 <- rbind(dist3, dist4, dist5, dist6)
View(raw1)
names(raw1)
names(raw2)
?select
View(dist1)
View(raw1)
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Cases`)
View(raw2)
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Cases`)
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current cases`)
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current status`)
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
names(raw1)[names(raw1) == "Num cases"] <- "Num Cases"
district_cases <- rbind(raw1, raw2)
remove(starts_with(dist))
remove(starts_with("dist"))
remove(dist1, dist2, dist3, dist4, dist5, dist6)
remove(dist1, dist2, dist3, dist4, dist5, dist6, raw1, raw2)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
apple <- read_csv("applemobilitytrends-2020-06-27.csv") %>% filter(region == "India" | country == "India")
google <- read_csv("Google_Global_Mobility_Report.csv") %>% filter(country_region == "India")
apple <- apple %>% pivot_longer(cols = c(7:length(apple)), names_to = "date")
apple$date <- as.Date(apple$date)
apple_national <- apple %>% filter(region == "India")
apple_city <- apple %>% filter(region != "India")
google_national <- google %>% filter(is.na(sub_region_1))
google_state <- google %>% filter(!is.na(sub_region_1))
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
state_cases$Date <- as.Date(state_cases$Date, "%d-%b-%Y")
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist2 <- read_csv("https://api.covid19india.org/csv/latest/raw_data2.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist3 <- read_csv("https://api.covid19india.org/csv/latest/raw_data3.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist4 <- read_csv("https://api.covid19india.org/csv/latest/raw_data4.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist5 <- read_csv("https://api.covid19india.org/csv/latest/raw_data5.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
names(raw1)[names(raw1) == "Num cases"] <- "Num Cases"
district_cases <- rbind(raw1, raw2)
district_cases$`Detected District` <-  ifelse(district_cases$`Detected State` == "Delhi", "Delhi", district_cases$`Detected State`)
remove(dist1, dist2, dist3, dist4, dist5, dist6, raw1, raw2)
?full_join
district_cases <- district_cases %>% group_by(`Detected District`, `Detected State`, `Date Announced`, `Current Status`) %>% summarize(value = sum(`Num Cases`))
View(district_cases)
district_cases$`Date Announced` <- as.Date(`Date Announced`, "%d/%m/%Y")
district_cases <- district_cases %>% group_by(`Detected District`, `Detected State`, `Date Announced`, `Current Status`) %>% summarize(value = sum(`Num Cases`))
district_cases$`Date Announced` <- as.Date(district_cases$`Date Announced`, "%d/%m/%Y")
View(district_cases)
district_cases <- pivot_wider(district_cases, id_cols = c(`Date Announced`, `Detected District`, `Detected State`), names_from = `Current Status`, values_from = value)
View(state_cases)
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
state_cases$Date <- as.Date(state_cases$Date, "%d-%b-%y")
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
View(state_cases)
?full_join
?inner_join
national <- inner_join(google_national, national_cases, by = c("date" = "Date"))
View(national)
final_national_apple <- inner_join(apple_national, national_cases, by = c("date" = "Date"))
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
apple <- read_csv("applemobilitytrends-2020-06-27.csv") %>% filter(region == "India" | country == "India")
google <- read_csv("Google_Global_Mobility_Report.csv") %>% filter(country_region == "India")
apple <- apple %>% pivot_longer(cols = c(7:length(apple)), names_to = "date")
apple$date <- as.Date(apple$date)
apple_national <- apple %>% filter(region == "India")
apple_city <- apple %>% filter(region != "India")
google_national <- google %>% filter(is.na(sub_region_1))
google_state <- google %>% filter(!is.na(sub_region_1))
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
state_cases$Date <- as.Date(state_cases$Date, "%d-%b-%y")
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist2 <- read_csv("https://api.covid19india.org/csv/latest/raw_data2.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist3 <- read_csv("https://api.covid19india.org/csv/latest/raw_data3.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist4 <- read_csv("https://api.covid19india.org/csv/latest/raw_data4.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist5 <- read_csv("https://api.covid19india.org/csv/latest/raw_data5.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
names(raw1)[names(raw1) == "Num cases"] <- "Num Cases"
district_cases <- rbind(raw1, raw2)
district_cases$`Detected District` <-  ifelse(district_cases$`Detected State` == "Delhi", "Delhi", district_cases$`Detected State`)
remove(dist1, dist2, dist3, dist4, dist5, dist6, raw1, raw2)
district_cases <- district_cases %>% group_by(`Detected District`, `Detected State`, `Date Announced`, `Current Status`) %>% summarize(value = sum(`Num Cases`))
district_cases$`Date Announced` <- as.Date(district_cases$`Date Announced`, "%d/%m/%Y")
district_cases <- pivot_wider(district_cases, id_cols = c(`Date Announced`, `Detected District`, `Detected State`), names_from = `Current Status`, values_from = value)
final_national_google <- inner_join(google_national, national_cases, by = c("date" = "Date"))
final_national_apple <- inner_join(apple_national, national_cases, by = c("date" = "Date"))
View(state_cases)
View(google_state)
?substr
google_state$State <- substr(google_state$iso_3166_2_code, 4,5)
View(google_state)
google_state$state <- substr(google_state$iso_3166_2_code, 4,5)
state <- inner_join(google_state, state_cases, by = c("date" = "Date", "state" = "State"))
View(state)
View(apple_city)
apple_city <- pivot_wider(apple_city, id_cols = c(date, region), names_from = transportation_type, values_from = value)
city <- inner_join(apple_city, district_cases, by = c("date" = "Date", "state" = "State"))
apple_city <- pivot_wider(apple_city, id_cols = c(date, region), names_from = transportation_type, values_from = value)
city <- inner_join(apple_city, district_cases, by = c("date" = "Date", "region" = "Detected District"))
city <- inner_join(apple_city, district_cases, by = c("date" = "Date Announced", "region" = "Detected District"))
View(city)
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
View(dist6)
city %>% filter(transportation_type == "driving") %>% ggplot( aes(x = date, y = value, color = region )) + geom_smooth(alpha = 0.2) + theme_light() + ggtitle("Changes in driving in cities")
write_csv(final_national_google, "national_google.csv")
write_csv(final_national_apple, "national_apple.csv")
write_csv(state, "state.csv")
write_csv(city, "city.csv")
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
apple <- read_csv("applemobilitytrends-2020-06-27.csv") %>% filter(region == "India" | country == "India")
google <- read_csv("Google_Global_Mobility_Report.csv") %>% filter(country_region == "India")
apple <- apple %>% pivot_longer(cols = c(7:length(apple)), names_to = "date")
apple$date <- as.Date(apple$date)
apple_national <- apple %>% filter(region == "India")
apple_city <- apple %>% filter(region != "India")
google_national <- google %>% filter(is.na(sub_region_1))
google_state <- google %>% filter(!is.na(sub_region_1))
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
state_cases$Date <- as.Date(state_cases$Date, "%d-%b-%y")
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist2 <- read_csv("https://api.covid19india.org/csv/latest/raw_data2.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist3 <- read_csv("https://api.covid19india.org/csv/latest/raw_data3.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist4 <- read_csv("https://api.covid19india.org/csv/latest/raw_data4.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist5 <- read_csv("https://api.covid19india.org/csv/latest/raw_data5.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
names(raw1)[names(raw1) == "Num cases"] <- "Num Cases"
district_cases <- rbind(raw1, raw2)
district_cases$`Detected District` <-  ifelse(district_cases$`Detected State` == "Delhi", "Delhi", district_cases$`Detected State`)
remove(dist1, dist2, dist3, dist4, dist5, dist6, raw1, raw2)
district_cases <- district_cases %>% group_by(`Detected District`, `Detected State`, `Date Announced`, `Current Status`) %>% summarize(value = sum(`Num Cases`))
district_cases$`Date Announced` <- as.Date(district_cases$`Date Announced`, "%d/%m/%Y")
district_cases <- pivot_wider(district_cases, id_cols = c(`Date Announced`, `Detected District`, `Detected State`), names_from = `Current Status`, values_from = value)
final_national_google <- inner_join(google_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_google, "national_google.csv")
final_national_apple <- inner_join(apple_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_apple, "national_apple.csv")
google_state$state <- substr(google_state$iso_3166_2_code, 4,5)
state <- inner_join(google_state, state_cases, by = c("date" = "Date", "state" = "State"))
write_csv(state, "state.csv")
apple_city <- pivot_wider(apple_city, id_cols = c(date, region), names_from = transportation_type, values_from = value)
city <- inner_join(apple_city, district_cases, by = c("date" = "Date Announced", "region" = "Detected District"))
write_csv(city, "city.csv")
names(city)[names(city) == "Hospitalized"] = "Cases"
write_csv(city, "city.csv")
View(city)
View(city)
national_google <- read_csv("national_google.csv")
national_google <- read_csv("national_google.csv")
national_apple <- read_csv("national_apple.csv")
state <- read_csv("state.csv")
city <- read_csv("city.csv")
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
national_google <- read_csv("national_google.csv")
national_apple <- read_csv("national_apple.csv")
state <- read_csv("state.csv")
city <- read_csv("city.csv")
apple_city <- pivot_wider(appl
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
apple <- read_csv("applemobilitytrends-2020-06-27.csv") %>% filter(region == "India" | country == "India")
google <- read_csv("Google_Global_Mobility_Report.csv") %>% filter(country_region == "India")
apple <- apple %>% pivot_longer(cols = c(7:length(apple)), names_to = "date")
apple$date <- as.Date(apple$date)
apple_national <- apple %>% filter(region == "India")
apple_city <- apple %>% filter(region != "India")
google_national <- google %>% filter(is.na(sub_region_1))
google_state <- google %>% filter(!is.na(sub_region_1))
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
state_cases$Date <- as.Date(state_cases$Date, "%d-%b-%y")
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist2 <- read_csv("https://api.covid19india.org/csv/latest/raw_data2.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist3 <- read_csv("https://api.covid19india.org/csv/latest/raw_data3.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist4 <- read_csv("https://api.covid19india.org/csv/latest/raw_data4.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist5 <- read_csv("https://api.covid19india.org/csv/latest/raw_data5.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
names(raw1)[names(raw1) == "Num cases"] <- "Num Cases"
district_cases <- rbind(raw1, raw2)
district_cases$`Detected District` <-  ifelse(district_cases$`Detected State` == "Delhi", "Delhi", district_cases$`Detected State`)
remove(dist1, dist2, dist3, dist4, dist5, dist6, raw1, raw2)
district_cases <- district_cases %>% group_by(`Detected District`, `Detected State`, `Date Announced`, `Current Status`) %>% summarize(value = sum(`Num Cases`))
district_cases$`Date Announced` <- as.Date(district_cases$`Date Announced`, "%d/%m/%Y")
district_cases <- pivot_wider(district_cases, id_cols = c(`Date Announced`, `Detected District`, `Detected State`), names_from = `Current Status`, values_from = value)
final_national_google <- inner_join(google_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_google, "national_google.csv")
final_national_apple <- inner_join(apple_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_apple, "national_apple.csv")
google_state$state <- substr(google_state$iso_3166_2_code, 4,5)
state <- inner_join(google_state, state_cases, by = c("date" = "Date", "state" = "State"))
write_csv(state, "state.csv")
View(apple_city)
View(district_cases)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
apple <- read_csv("applemobilitytrends-2020-06-27.csv") %>% filter(region == "India" | country == "India")
google <- read_csv("Google_Global_Mobility_Report.csv") %>% filter(country_region == "India")
apple <- apple %>% pivot_longer(cols = c(7:length(apple)), names_to = "date")
apple$date <- as.Date(apple$date)
apple_national <- apple %>% filter(region == "India")
apple_city <- apple %>% filter(region != "India")
google_national <- google %>% filter(is.na(sub_region_1))
google_state <- google %>% filter(!is.na(sub_region_1))
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
state_cases$Date <- as.Date(state_cases$Date, "%d-%b-%y")
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist2 <- read_csv("https://api.covid19india.org/csv/latest/raw_data2.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist3 <- read_csv("https://api.covid19india.org/csv/latest/raw_data3.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist4 <- read_csv("https://api.covid19india.org/csv/latest/raw_data4.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist5 <- read_csv("https://api.covid19india.org/csv/latest/raw_data5.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
names(raw1)[names(raw1) == "Num cases"] <- "Num Cases"
district_cases <- rbind(raw1, raw2)
district_cases$`Detected District` <-  ifelse(district_cases$`Detected State` == "Delhi", "Delhi", district_cases$`Detected District`)
remove(dist1, dist2, dist3, dist4, dist5, dist6, raw1, raw2)
district_cases <- district_cases %>% group_by(`Detected District`, `Detected State`, `Date Announced`, `Current Status`) %>% summarize(value = sum(`Num Cases`))
district_cases$`Date Announced` <- as.Date(district_cases$`Date Announced`, "%d/%m/%Y")
district_cases <- pivot_wider(district_cases, id_cols = c(`Date Announced`, `Detected District`, `Detected State`), names_from = `Current Status`, values_from = value)
final_national_google <- inner_join(google_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_google, "national_google.csv")
final_national_apple <- inner_join(apple_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_apple, "national_apple.csv")
google_state$state <- substr(google_state$iso_3166_2_code, 4,5)
state <- inner_join(google_state, state_cases, by = c("date" = "Date", "state" = "State"))
write_csv(state, "state.csv")
apple_city <- pivot_wider(apple_city, id_cols = c(date, region), names_from = transportation_type, values_from = value)
city <- inner_join(apple_city, district_cases, by = c("date" = "Date Announced", "region" = "Detected District"))
names(city)[names(city) == "Hospitalized"] = "Cases"
write_csv(city, "city.csv")
View(city)
national_google <- read_csv("national_google.csv")
national_apple <- read_csv("national_apple.csv")
state <- read_csv("state.csv")
city <- read_csv("city.csv")
View(city)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
national_google <- read_csv("national_google.csv")
national_apple <- read_csv("national_apple.csv")
state <- read_csv("state.csv")
city <- read_csv("city.csv")
View(city)
city %>% ggplot() + geom_line(aes(x = walking,y = Date), color = "Walking") + geom_line(aes(x = driving,y = Date), color = "Walking") + facet_grid(~region)
city %>% ggplot() + geom_line(aes(x = walking,y = Date), color = "Walking") + geom_line(aes(x = driving,y = date), color = "Walking") + facet_grid(~region)
city %>% ggplot() + geom_line(aes(x = walking,y = Date), color = "Walking") + geom_line(aes(x = driving,y = date), color = "Walking") + facet_grid(~region)
city %>% ggplot() + geom_line(aes(x = walking,y = date), color = "Walking") + geom_line(aes(x = driving,y = date), color = "Walking") + facet_grid(~region)
city %>% ggplot() + geom_line(aes(x = walking,y = date), color = "blue") + geom_line(aes(x = driving,y = date), color = "red") + facet_grid(~region)
city %>% ggplot() + geom_line(aes(x = walking,y = date), color = "blue") + geom_line(aes(x = driving,y = date), color = "red") + facet_wrap(~region)
city %>% ggplot() + geom_line(aes(y = walking,x = date), color = "blue") + geom_line(aes(y = driving,x = date), color = "red") + facet_wrap(~region)
city %>% ggplot() + geom_line(aes(y = walking,x = date), color = "blue") + geom_line(aes(y = driving,x = date), color = "red") + geom_line(aes(y = cases,x = date), color = "black") facet_wrap(~region)
city %>% ggplot() + geom_line(aes(y = walking,x = date), color = "blue") + geom_line(aes(y = driving,x = date), color = "red") + geom_line(aes(y = Cases,x = date), color = "black") facet_wrap(~region)
city %>% ggplot() + geom_line(aes(y = walking,x = date), color = "blue") + geom_line(aes(y = driving,x = date), color = "red") + geom_line(aes(y = Cases,x = date), color = "black") + facet_wrap(~region)
city %>% ggplot() + geom_line(aes(y = walking,x = date), color = "blue") + geom_line(aes(y = driving,x = date), color = "red") + geom_line(aes(y = Cases,x = date), color = "black") + sec_axis() + facet_wrap(~region)
city %>% ggplot() + geom_line(aes(y = walking,x = date), color = "blue") + geom_line(aes(y = driving,x = date), color = "red") + geom_line(aes(y = Cases,x = date), color = "black") + sec_axis(~.Cases) + facet_wrap(~region)
city %>% ggplot() + geom_line(aes(y = walking,x = date), color = "blue") + geom_line(aes(y = driving,x = date), color = "red") + geom_line(aes(y = Cases,x = date), color = "black") + sec_axis(~.*Cases) + facet_wrap(~region)
city %>% ggplot()  + geom_line(aes(y = driving,x = date), color = "red") + geom_line(aes(y = Cases,x = date), color = "black") + sec_axis() + facet_wrap(~region)
city %>% ggplot(aes(x = date))  + geom_line(aes(y = driving), color = "red") + geom_line(aes(y = Cases), color = "black") + sec_axis() + facet_wrap(~region)
city %>% filter(`Detected District` == "Delhi") %>% write.csv("delhi.csv")
View(national_apple)
View(city)
city %>% filter(region == "Delhi") %>% write.csv("delhi.csv")
apple_city <- pivot_wider(apple_city, id_cols = c(date, region), names_from = transportation_type, values_from = value)
city %>% filter(region == "Mumbai") %>% write.csv("mumbai.csv")
city %>% filter(region == "Pune") %>% write.csv("pune.csv")
city %>% filter(region == "Bangalore") %>% write.csv("bangalore.csv")
city %>% filter(region == "Hyderabad") %>% write.csv("hyderabad.csv")
city %>% filter(region == "Chennai") %>% write.csv("chennai")
city %>% filter(region == "Chennai") %>% write.csv("chennai.csv")
View(city)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(readxl)
library(tidyverse)
library(ggrepel)
setwd("~/Documents/GitHub/mobility")
apple <- read_csv("applemobilitytrends-2020-06-27.csv") %>% filter(region == "India" | country == "India")
google <- read_csv("Google_Global_Mobility_Report.csv") %>% filter(country_region == "India")
apple <- apple %>% pivot_longer(cols = c(7:length(apple)), names_to = "date")
apple$date <- as.Date(apple$date)
apple_national <- apple %>% filter(region == "India")
apple_city <- apple %>% filter(region != "India")
google_national <- google %>% filter(is.na(sub_region_1))
google_state <- google %>% filter(!is.na(sub_region_1))
national_cases <- read_csv("https://api.covid19india.org/csv/latest/case_time_series.csv")
national_cases$Date <- paste(national_cases$Date, " 2020")
national_cases$Date <- as.Date(national_cases$Date, "%d %B %Y")
state_cases <- read_csv("https://api.covid19india.org/csv/latest/state_wise_daily.csv")
state_cases$Date <- as.Date(state_cases$Date, "%d-%b-%y")
state_cases <- pivot_longer(state_cases, cols = c(3:41) , names_to = "State")
state_cases <- pivot_wider(state_cases, id_cols = c(Date, State), names_from = "Status", values_from = "value")
dist1 <- read_csv("https://api.covid19india.org/csv/latest/raw_data1.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist2 <- read_csv("https://api.covid19india.org/csv/latest/raw_data2.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist3 <- read_csv("https://api.covid19india.org/csv/latest/raw_data3.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist4 <- read_csv("https://api.covid19india.org/csv/latest/raw_data4.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist5 <- read_csv("https://api.covid19india.org/csv/latest/raw_data5.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
dist6 <- read_csv("https://api.covid19india.org/csv/latest/raw_data6.csv") %>% filter(`Detected State` == "Delhi" | `Detected District` == "Mumbai" | `Detected District` == "Pune" | `Detected District` == "Hyderabad" | `Detected District` == "Bengaluru Urban" | `Detected District` == "Chennai")
raw1 <- rbind(dist1, dist2) %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num cases`, `Current Status`)
raw2 <- rbind(dist3, dist4, dist5, dist6)  %>% select(`Date Announced`, `Detected District`, `Detected State`, `Num Cases`, `Current Status`)
names(raw1)[names(raw1) == "Num cases"] <- "Num Cases"
district_cases <- rbind(raw1, raw2)
district_cases$`Detected District` <-  ifelse(district_cases$`Detected State` == "Delhi", "Delhi", district_cases$`Detected District`)
remove(dist1, dist2, dist3, dist4, dist5, dist6, raw1, raw2)
district_cases <- district_cases %>% group_by(`Detected District`, `Detected State`, `Date Announced`, `Current Status`) %>% summarize(value = sum(`Num Cases`))
district_cases$`Date Announced` <- as.Date(district_cases$`Date Announced`, "%d/%m/%Y")
district_cases <- pivot_wider(district_cases, id_cols = c(`Date Announced`, `Detected District`, `Detected State`), names_from = `Current Status`, values_from = value)
final_national_google <- inner_join(google_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_google, "national_google.csv")
final_national_apple <- inner_join(apple_national, national_cases, by = c("date" = "Date"))
write_csv(final_national_apple, "national_apple.csv")
google_state$state <- substr(google_state$iso_3166_2_code, 4,5)
state <- inner_join(google_state, state_cases, by = c("date" = "Date", "state" = "State"))
write_csv(state, "state.csv")
apple_city <- pivot_wider(apple_city, id_cols = c(date, region), names_from = transportation_type, values_from = value)
View(apple_city)
View(district_cases)
district_cases$`Detected District` <- ifelse(district_cases$`Detected District` == "Bengaluru Urban", "Bangalore", district_cases$`Detected District`)
apple_city <- pivot_wider(apple_city, id_cols = c(date, region), names_from = transportation_type, values_from = value)
city <- inner_join(apple_city, district_cases, by = c("date" = "Date Announced", "region" = "Detected District"))
View(city)
names(city)[names(city) == "Hospitalized"] = "Cases"
write_csv(city, "city.csv")
city %>% filter(region == "Delhi") %>% write.csv("delhi.csv")
city %>% filter(region == "Mumbai") %>% write.csv("mumbai.csv")
city %>% filter(region == "Pune") %>% write.csv("pune.csv")
city %>% filter(region == "Bangalore") %>% write.csv("bangalore.csv")
city %>% filter(region == "Hyderabad") %>% write.csv("hyderabad.csv")
city %>% filter(region == "Chennai") %>% write.csv("chennai.csv")
